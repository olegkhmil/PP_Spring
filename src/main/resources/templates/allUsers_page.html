<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>AllUsers</title>
</head>
<body>
<table style=" width: 100%; border: 4px double black;">
    <tr>
        <td style="border: 1px solid black; text-align: center">
            <a href="/admin/add">Add new user</a>
            <a style="position: absolute; right: 25px" href="/logout">Logout</a>
        </td>

    </tr>
</table>

<p align="center">All Users</p>
<table align="center" border="1px">
    <tr>
        <th>User Id</th>
        <th>User Name</th>
        <th>User Age</th>
        <th>User email</th>
        <th>password</th>
        <th>role</th>
        <th>state</th>
        <th colspan="2">Action</th>
    </tr>

    <th:block th:each="user:${usersFromDB}">
        <tr>
            <td th:text="${user.id}">User Id</td>
            <td th:text="${user.name}">User Name</td>
            <td th:text="${user.age}">User Age</td>
            <td th:text="${user.email}">User email</td>
            <td th:text="${user.hash_password}">password</td>
            <td>
                <th:block th:each="role:${user.roles}">
                    <i th:text="${role.role_name}"></i><br>
                </th:block>
            </td>

            <td th:text="${user.state}">state</td>
            <td>
                <form action="/admin/delete" method="post">
                    <label>
                        <input type="text" hidden name="id" th:value="${user.id}"/>
                    </label>
                    <input type="submit" value="Delete"/>
                </form>
            </td>
            <td>
                <form action="/admin/update" method="get">
                    <label>
                        <input type="number" hidden name="id" th:value="${user.id}"/>
                    </label>
                    <input type="submit" value="Update"/>
                </form>
            </td>
        </tr>
    </th:block>
</table>
</body>
</html>
